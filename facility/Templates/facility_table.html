{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <meta charset="UTF-8">
  <title>WILMS | Facility Management</title>
  <link rel="icon" href="{% static 'icon/favicon3.ico' %}" type="image/x-icon">
  <link rel="stylesheet" href="{% static 'facility/general.css' %}">
  <!-- <link rel="stylesheet" href="general.css">
  <link rel="stylesheet" href="table.css"> -->
  <style>

form.modal-dialog{
  right: -12%;
}
table{
  position: left;
  width: fit-content;
}
</style>
</head>
<body>
  <div class="modal" id="facirules" > 
  <form method="POST" class="modal-dialog modal-dialog-centered" id="Add_faci">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel2">Add Facility</h5>
        </div>
        <div class="modal-body">
          {% csrf_token %}
          <input list="facility" name="facility" placeholder="Choose Type of Schedule"/>
          <datalist id="facility">
            <option value = "{{ forms.facility }} ">
          </datalist>
           
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><a href="{% url 'facility:facility' %}">Cancel</a></button>
            <button type="submit" class="btn btn-primary" data-bs-target="update_faci">Add Facility</button>
        </div>
    </div>
</form>
</div>

<!-- BUTTON TO ADD FACILITY -->
    <!-- <button type="submit" class="add-fac" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Add Facility</button> -->
    <div class="label-page">FACILITY</div>
    <div class="table">
      <h3 style="font-weight: 50px;">Facility Rules Table</h3><br>
      <table class="center" cellspacing="2" style="display: center;">
        <button data-bs-toggle="modal" data-bs-target="#facirules" data-bs-toggle="modal" class="btn btn-primary" >Choose Facility</button>  
        <thead>
          <tr>
            <th>ID</th>
            <th>FACILITY</th>
            <th>MAIN RULES</th>
            <th>PROMO RULES</th>
            <th>SUB RULES</th>
            <th>ACTION</th>
          </tr>
        </thead>

        <tbody>
          {% for sf in setting_facility %}
          <tr>
            <td style="width: 10%;">{{ sf.id }}</td>
            <td>{{ sf.facility }}</td>
            <td>{{ sf.mainrules }}</td>
            <td>{{ sf.promorules }}</td>
            <td>{{ sf.subrules }}</td>
            <td><button class="btndel">
              <a class="btndel" href="{% url 'facility:facilityRules' sf.id %}">Edit</a>
            </button>
          </td>
            {% empty %}
            <h3 style="position: absolute; margin-top: 20%; margin-left: 32%; opacity: 0.3;">No Available Rules</h3>
          </tr>
          {% endfor %}
        </tbody>
      </table>        
    </div>

  <!-- vertical pane for navbar-->
  <nav class="vertical">
    <div class="avatar">
      <img src="{% static 'media/avatar1.png' %}" alt="Profile Picture">
    </div>
    <ul>
      <li>
        <ul>
        </ul>
      </li>
      <li><a href="{% url 'facility:facility' %}" class="nav1" style=" background-color: #ffcc01; color: black;">Facility Management</a>
  
        <ul class="drpdwn1">
          <li><a href="{% url 'facility:facility' %}" class="drp1" style=" background-color: #ffcc01; color: black;">Facility</a></li>
          <li><a  href="{% url 'facility:usertable' %}" class="drp1" >User</a></li>
          <li><a href="{% url 'facility:calendar' %}" class="drp1">Calendar</a></li>
        </ul>
      </li>
      <li><a href="{% url 'facility:revenuedashboard' %}" class="nav2">Revenue</a>
        <ul class="drpdwn2">
          <li><a href="{% url 'facility:revenuedashboard' %}" class="drp2">Dashboard</a></li>
          <li><a href="{% url 'facility:revenuereport' %}" class="drp2">Reports</a></li>
        </ul></li>
      <li><a href="{% url 'facility:settingfacility' %}" class="nav3">Rules Summary</a></li>
    </ul>
  </nav>
  <!-- horizontal pane for navbar -->
  <nav class="horizontal">
    <ul class="left">
      <li><a href="#"><img src="{% static 'media/WILMS.png' %}" alt="Home"></a></li>
    </ul>
    <ul class="center" >
  
      {% if messages %}
      {% for message in messages %}
        {% if message.tags == 'error' %}
          
            <div class="center" style="position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(5, 4, 0, 0.5);  z-index: 999; opacity: 1; transition: opacity 5s ease; 
            justify-content: center; align-items: center; ">
              <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
              {{ message }}<br><button style="margin-top: 1rem; margin-left: 30%" type="button" class="btn btn-secondary" data-bs-dismiss="modal"><a href="{% url 'facility:facility' %}" style="padding: 2px;">Cancel</a></button></li>
              </div>
          {% elif message.tags == 'success' %}
          <div style="position: fixed; z-index: 999; width: 100%;" >
              <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
              {{ message }}</div>
          {% elif message.tags == 'warning' %}
          <div style="position: fixed; z-index: 999; width: 100%;" >
              <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
              {{ message }}</div>
          {% elif message.tags == 'info' %}
          <div style="position: fixed; z-index: 999; width: 100%;" >
              <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
              {{ message }}</div>
          {% endif %} 
        {% endfor %}
        {% endif %}
  
  <!-- <li>
  <input type="text" class="search-bar"placeholder="Search...">
  <button type="submit" class="search-btn">Search</button></li> -->
  <li></li>
  </ul>
    <ul class="right">
      <a href="#"><button class="adminlabel">admin</button></a>
    </ul>
    
  </nav> 
  </body>
  </html>