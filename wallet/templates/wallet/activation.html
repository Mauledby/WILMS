<!DOCTYPE html>

{%load static%}
<html>
  <head>
    <title>Account Activation</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        background-color: #d3d3d3;
        background-image: linear-gradient(315deg, #d3d3d3 0%, #eccc68 74%);
        height: 100vh;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: "Poppins", sans-serif;
      }
      .card {
        border: none;
        background-color: #f9f9f9;
        padding: 20px;
        height: 70vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      .hidden {
        display: none;
      }
      #form-section,
      #text-section {
        margin: 0;
        padding: 0;
      }
      .login-form h6,
      h1 {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="row" style="margin: 0; padding: 0">
        <div id="form-section" class="col-md-6" style="padding: 0">
          <div
            class="card"
            style="border-radius: 15px 0px 0px 15px; border-right: solid 0.5px"
          >
            <h1>Account Activation</h1>
            <form id="activation-form" method="post">
              <div class="login-form">
                {% csrf_token %}
                <h6>Login to activate your account</h6>
                <div class="form-group">
                  <label for="email">Email:</label>
                  <input
                    type="email"
                    class="form-control"
                    name="email"
                    id="email"
                    placeholder="Enter your email"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="password">Password:</label>
                  <input
                    type="password"
                    class="form-control"
                    name="password"
                    id="password"
                    placeholder="Enter your password"
                    required
                  />
                </div>
                <button
                  type="button"
                  class="btn btn-primary"
                  id="login-btn"
                  style="background-color: #faca04"
                >
                  Login
                </button>
              </div>
              <div class="rfid-form hidden">
                <h2>RFID Activation</h2>
                <div class="form-group">
                  <label for="rfid_value">RFID Value:</label>
                  <input
                    type="text"
                    class="form-control"
                    name="rfid_value"
                    id="rfid_value"
                    placeholder="Enter RFID value"
                  />
                </div>
              </div>
              <div id="submitbtn">
                <button
                  type="submit"
                  class="btn btn-success hidden"
                  id="activate-btn"
                >
                  Activate Account
                </button>
              </div>
            </form>
            <script>
              document.addEventListener("DOMContentLoaded", function () {
                const loginForm = document.querySelector(".login-form");
                const rfidForm = document.querySelector(".rfid-form");
                const loginButton = document.getElementById("login-btn");
                const activateButton = document.getElementById("activate-btn");
                const emailInput = document.getElementById("email");
                const passwordInput = document.getElementById("password");

                loginButton.addEventListener("click", function () {
                  // Get the input values
                  const email = emailInput.value;
                  const password = passwordInput.value;

                  // Simulate authentication success (you should replace this with your actual authentication logic)
                  const isAuthenticated = true;

                  if (isAuthenticated) {
                    // Authentication is successful, proceed to show the RFID form
                    loginForm.classList.add("hidden");
                    rfidForm.classList.remove("hidden");
                    activateButton.classList.remove("hidden");
                  } else {
                    // Display an error message using window.alert
                    window.alert(
                      "Invalid login credentials. Please try again."
                    );
                  }
                });
              });
            </script>
          </div>
        </div>
        <div id="text-section" class="col-md-6" style="padding: 0">
          <div
            class="card"
            style="border-radius: 0px 15px 15px 0px; width: 500px"
          >
            <img
              src="{% static 'img/login.PNG' %}"
              alt="Description of the image"
              style="margin-left: -100px; margin-right: -100px"
            />
          </div>
        </div>
      </div>
    </div>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  </body>
</html>
